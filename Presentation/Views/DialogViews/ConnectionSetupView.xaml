<UserControl x:Class="Presentation.Views.DialogViews.ConnectionSetupView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
             xmlns:behaviors="clr-namespace:Common.Behaviors;assembly=Common"
             xmlns:localization="clr-namespace:Resources.Localization;assembly=Resources"
             xmlns:sf="http://schemas.syncfusion.com/wpf">
    
    <!-- Resources -->
    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary
                    Source="pack://application:,,,/Resources;component/ModuleResources/ConnectionSetupView.Resources.xaml" />
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </UserControl.Resources>
    
    
     <!-- Root border -->
    <Border Style="{StaticResource DialogBorderStyle}">
        
            <!-- Main grid -->
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />  <!-- Title -->
                    <RowDefinition Height="1" />     <!-- Top separator -->
                    <RowDefinition Height="*" />     <!-- Content -->
                    <RowDefinition Height="1" />     <!-- Bottom separator -->
                    <RowDefinition Height="Auto" />  <!-- Save button -->
                </Grid.RowDefinitions>
                
                <!-- Close dialog button -->
                <sf:ButtonAdv Grid.Row="0" 
                              Style="{StaticResource CloseDialogButtonStyle}"
                              Command="{Binding CancelDialogCommand}"/>

                <!-- Title text block-->
                <TextBlock Grid.Row="0"
                           Style="{StaticResource DialogTitleTextBlockStyle}"
                           Text="{x:Static localization:Strings.SetUpConnection}" />

                <!-- Top separator -->
                <Border Grid.Row="1"
                        Style="{StaticResource DialogSeparatorStyle}" />

                    <!-- Content stack panel-->
                    <StackPanel Grid.Row="2"
                                Margin="32,6">

                        <!-- Database host text input layout -->
                        <sf:SfTextInputLayout Hint="{x:Static localization:Strings.Host}"
                                              Style="{StaticResource SyncfusionSfTextInputLayoutStyle}"
                                              ContainerType="Outlined">
                            <TextBox Width="{StaticResource DefaultTextBoxWidth}"
                                     Text="{Binding Host}"
                                     HorizontalAlignment="Left"/>
                        </sf:SfTextInputLayout>

                        <!-- Database port text input layout -->
                        <sf:SfTextInputLayout Hint="{x:Static localization:Strings.DbPort}"
                                              Style="{StaticResource SyncfusionSfTextInputLayoutStyle}"
                                              ContainerType="Outlined">
                            <TextBox Width="{StaticResource DefaultTextBoxWidth}"
                                     Text="{Binding Port}"
                                     MaxLength="4"
                                     HorizontalAlignment="Left"/> 
                        </sf:SfTextInputLayout>

                        <!-- Database name text input layout -->
                        <sf:SfTextInputLayout Hint="{x:Static localization:Strings.DbName}"
                                              Style="{StaticResource SyncfusionSfTextInputLayoutStyle}"
                                              ContainerType="Outlined">
                            <TextBox Width="{StaticResource DefaultTextBoxWidth}"
                                     Text="{Binding Database}"
                                     HorizontalAlignment="Left"/>
                        </sf:SfTextInputLayout>

                        <!-- Database username text input layout -->
                        <sf:SfTextInputLayout Hint="{x:Static localization:Strings.DbUsername}"
                                              Style="{StaticResource SyncfusionSfTextInputLayoutStyle}"
                                              ContainerType="Outlined">
                            <TextBox Width="{StaticResource DefaultTextBoxWidth}"
                                     Text="{Binding Username}"
                                     HorizontalAlignment="Left"/>
                        </sf:SfTextInputLayout>

                        <!-- Database password & show/hide password button stack panel -->
                        <StackPanel Orientation="Horizontal">

                            <!-- Database password input layout  -->
                            <sf:SfTextInputLayout
                                Hint="{x:Static localization:Strings.Password}"
                                Style="{StaticResource SyncfusionSfTextInputLayoutStyle}"
                                ContainerType="Outlined">
                                
                                <i:Interaction.Behaviors>
                                    <behaviors:ShowHidePasswordBehavior
                                        HideIcon="{StaticResource EyeClosed.Black.Line.64}"
                                        PasswordFont="{StaticResource PasswordFontFamily}"
                                        ShowIcon="{StaticResource EyeOpened.Black.Line.64}"
                                        ShowHideButton="{Binding ElementName=ShowHideButton}" />
                                </i:Interaction.Behaviors>

                                <TextBox Text="{Binding Password}"
                                         Width="{StaticResource DefaultTextBoxWidth}"/>
                                
                                <sf:SfTextInputLayout.TrailingView>
                                    
                                    <!--  Hide/show password button  -->
                                    <sf:ButtonAdv x:Name="ShowHideButton"
                                                  SmallIcon="{StaticResource EyeOpened.Black.Line.64}"
                                                  Style="{StaticResource TransparencyRoundedGlyphButtonStyle}"/>
                                    
                                </sf:SfTextInputLayout.TrailingView>

                                </sf:SfTextInputLayout>

                        </StackPanel>

                    </StackPanel>
                
                <!-- Bottom separator -->
                <Border Grid.Row="3"
                        Style="{StaticResource DialogSeparatorStyle}" />
                
                <!-- Save button -->
                <sf:ButtonAdv Grid.Row="4" 
                              Command="{Binding SaveCommand}"
                              Margin="{StaticResource Margin6}"
                              SmallIcon="{StaticResource Save.White.Line.64}"
                              Label="{x:Static localization:Strings.Save}"
                              Style="{StaticResource DefaultPrimaryButtonStyle}"/>
                
            </Grid>
        
    </Border>
    
</UserControl>
