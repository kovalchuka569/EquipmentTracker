<UserControl x:Class="Presentation.Views.DialogViews.UserRequestsView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:cv="clr-namespace:Resources.Converters;assembly=Resources"
             xmlns:lc="clr-namespace:Resources.Localization;assembly=Resources"
             xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
             xmlns:sf="http://schemas.syncfusion.com/wpf">
    
    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="pack://application:,,,/Resources;component/ModuleResources/UserRequestsView.Resources.xaml" />
            </ResourceDictionary.MergedDictionaries>
            
            <cv:InverseBooleanToVisibilityConverter x:Key="InverseBooleanToVisibilityConverter"/>
            
        </ResourceDictionary>
    </UserControl.Resources>
    
        <!-- Root border -->
    <Border Style="{StaticResource DialogBorderStyle}">

        <!-- Main grid -->
        <Grid>
            
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />  <!-- Title -->
                <RowDefinition Height="1" />     <!-- Top separator -->
                <RowDefinition Height="*" />     <!-- Content -->
            </Grid.RowDefinitions>

            <!-- Close dialog button -->
            <sf:ButtonAdv Grid.Row="0"
                          Command="{Binding CancelDialogCommand}"
                          Style="{StaticResource CloseDialogButtonStyle}" />
            
            <!-- Title text block-->
            <TextBlock Grid.Row="0"
                       Style="{StaticResource DialogTitleTextBlockStyle}"
                       Text="{x:Static lc:Strings.UserRequests_DialogTitle}" />

            <!-- Top separator -->
            <Border Grid.Row="1"
                    Style="{StaticResource DialogSeparatorStyle}" />

            <!-- Content scroll viewer -->
            <ScrollViewer Grid.Row="2"
                          Style="{StaticResource WPFScrollViewerStyle}"
                          Margin="12,6"
                          VerticalScrollBarVisibility="Auto"
                          HorizontalScrollBarVisibility="Auto"
                          MinHeight="600"
                          MinWidth="450"
                          MaxHeight="600"
                          MaxWidth="450">

                <!-- Content grid -->
                <Grid>
                    
                    <!-- Users list -->
                    <ListView ItemsSource="{Binding UsersQuery}"
                              ItemContainerStyle="{StaticResource WPFListViewItemStyle}"
                              ItemTemplate="{StaticResource QueryUserListViewTemplate}"
                              HorizontalContentAlignment="Stretch">
                        <i:Interaction.Triggers>
                            <i:EventTrigger EventName="Loaded">
                                <i:InvokeCommandAction Command="{Binding UsersQueryListLoadedCommand}" />
                            </i:EventTrigger>
                        </i:Interaction.Triggers>
                    </ListView>
                    
                    <!-- Empty text block -->
                    <TextBlock Style="{StaticResource EmptyPlaceholderTextBlockStyle}"
                               Text="{x:Static lc:Strings.Empty}"
                               Visibility="{Binding HasUsersInQuery, Converter={StaticResource InverseBooleanToVisibilityConverter}}" />

                </Grid>
            </ScrollViewer>
            
            </Grid>
        
        </Border>
</UserControl>
